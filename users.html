<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CommunityConnect | Users</title>
    <link rel="stylesheet" href="users_styles.css">
</head>
<body>
    <header class="navbar">
        <div class="logo">CommunityConnect</div>
        <div class="user-welcome-container">
          <div id="welcome-message">Welcome</div>
          <div id="user-role">Loading...</div>
        </div>
        <nav class="nav-links">
          <a href="dashboard.html">Home</a>
        </nav>
        <button class="logout-btn">Logout</button>
      </header>

    <section class="page-header">
        <h1>Society Residents</h1>
        <p>Manage all residents in your community</p>
    </section>

    <div class="content-container">
        <div class="action-bar">
            <button id="addResidentBtn" class="add-btn">+ Add New Resident</button>
        </div>
        
        <!-- Residents Display Section -->
        <div class="residents-container" id="residents-container">
            <div class="loading" id="loading">Loading residents data...</div>
            <div class="residents-grid" id="residents-grid"></div>
        </div>
    </div>

    <!-- Registration Form (Hidden by default) -->
    <div class="modal-form" id="registration-form" style="display: none;">
        <div class="form-content">
            <div class="form-header">
                <h2>Add New Resident</h2>
                <button type="button" id="closeFormBtn" class="close-btn">&times;</button>
            </div>
            <form id="residentForm">
                <div class="form-group">
                    <label for="Owner_Name">Name:</label>
                    <input type="text" id="Owner_Name" placeholder="Enter resident name" required>
                </div>

                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" placeholder="Enter email address" required>
                </div>

                <div class="form-group">
                    <label for="phone">Phone:</label>
                    <input type="tel" id="phone" placeholder="Enter phone number" required>
                </div>

                <div class="form-group">
                    <label for="flatNumber">Flat Number:</label>
                    <input type="text" id="flatNumber" placeholder="Enter flat number" required>
                </div>

                <div class="form-group">
                    <label for="floor">Floor:</label>
                    <input type="text" id="floor" placeholder="Enter floor number" required>
                </div>

                <div class="form-group">
                    <label for="wing">Wing:</label>
                    <input type="text" id="wing" placeholder="Enter wing" required>
                </div>

                <!-- New Parking Section -->
                <div class="form-section">
                    <h3>Parking Information</h3>
                    <div id="parking-container">
                        <div class="parking-form-group" data-index="0">
                            <div class="parking-inputs">
                                <div class="form-group">
                                    <label for="parkingId-0">Parking ID:</label>
                                    <input type="text" id="parkingId-0" placeholder="e.g. F1" required>
                                </div>
                                <div class="form-group">
                                    <label for="vehicleType-0">Vehicle Type:</label>
                                    <select id="vehicleType-0">
                                        <option value="2">2-Wheeler</option>
                                        <option value="4">4-Wheeler</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="slotStatus-0">Status:</label>
                                    <select id="slotStatus-0">
                                        <option value="available">Available</option>
                                        <option value="full">Full</option>
                                    </select>
                                </div>
                            </div>
                            <button type="button" class="remove-parking-btn" style="display:none;">&times;</button>
                        </div>
                    </div>
                    <button type="button" id="add-parking-btn" class="add-btn parking-btn">+ Add Another Parking Slot</button>
                </div>

                <div class="form-group">
                    <label for="role">Select Role:</label>
                    <select id="role">
                        <option value="resident">Resident</option>
                        <option value="MC">MC (Managing Committee)</option>
                    </select>
                </div>

                <div class="form-group" id="sub-role-group" style="display: none;">
                    <label for="sub_role">Select Position:</label>
                    <select id="sub_role">
                        <option value="president">President</option>
                        <option value="secretary">Secretary</option>
                        <option value="treasurer">Treasurer</option>
                        <option value="building-manager">Building Manager</option>
                        <option value="admin">Admin</option>
                    </select>
                </div>

                <button type="submit" class="submit-btn">Submit</button>
            </form>
            <p id="message"></p>
        </div>
    </div>

    <!-- Overlay for modal form -->
    <div id="overlay" class="overlay" style="display: none;"></div>

    <footer>
        <p>&copy; 2025 CommunityConnect. All rights reserved.</p>
    </footer>

    <script src="users.js" type="module"></script>
</body>
</html>
